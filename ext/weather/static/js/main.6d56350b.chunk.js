(this.webpackJsonpclima=this.webpackJsonpclima||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(4),n=a.n(r),s=a(6),c=a.n(s),i=(a(12),a(2)),u=a.n(i),o=a(1),l=a(3),d=a(7),h="https://api.allorigins.win/raw?url=https://www.metaweather.com/api/";function p(e){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/location/search/?query="+t);case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",[]);case 5:return r=a.json(),e.abrupt("return",r!==[]?r:[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/location/search/?lattlong=".concat(t,",").concat(a));case 2:if(200===(r=e.sent).status){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/location/"+t);case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,a.json();case 7:if(!(r=e.sent).detail){e.next=10;break}return e.abrupt("return",[]);case 10:return e.abrupt("return",{weatherData:r.consolidated_weather,location:r.title});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return"https://www.metaweather.com//static/img/weather/".concat(e,".svg")}var w=function(e){return new Date(Date.parse(e))};function v(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getUTCDay()],a=["Jan","Feb","Mar","Apr","May","Jun","Ju","Aug","Sep","Oct","Nov","Dec"][e.getUTCMonth()];return"".concat(t,", ").concat(e.getUTCDate()," ").concat(a)}function g(e){return 1.8*e+32}var N=a(0);function y(e){var t=e.formattedDateStr,a=e.maxTempture,r=e.minTempture,n=e.useFahrenheit,s=e.abbr,c=n?"F":"C",i=f(void 0===s?"c":s);return a=Math.round(a),r=Math.round(r),n&&(a=Math.round(g(a)),r=Math.round(g(r))),Object(N.jsxs)("div",{className:"weather-wrapper",children:[Object(N.jsx)("p",{children:t}),Object(N.jsx)("img",{className:"timeicon-img",src:i,alt:"figure representing the weather"}),Object(N.jsxs)("div",{className:"weather-temp",children:[Object(N.jsxs)("p",{children:[a,"\xba",c]}),Object(N.jsxs)("p",{children:[r,"\xba",c]})]})]})}a(15);var _=a.p+"static/media/Compass-Arrow.5bc621d9.svg";function C(e){var t=e.state,a=e.setState,r=e.weatherData[0],n="rotate(".concat(r.wind_direction,"deg)");return Object(N.jsx)("div",{className:"hightlights-area-wrapper",children:Object(N.jsxs)("div",{className:"daily-weather-content",children:[" ",Object(N.jsxs)("div",{className:"temperature-kind-wrapper",children:[Object(N.jsx)("button",{onClick:function(){return a(Object(o.a)(Object(o.a)({},t),{},{useCelsius:!0}))},disabled:t.useCelsius,children:"C"}),Object(N.jsx)("button",{onClick:function(){return a(Object(o.a)(Object(o.a)({},t),{},{useCelsius:!1}))},disabled:!t.useCelsius,children:"F"})]}),Object(N.jsx)("div",{className:"daily-weather-div",children:t.weatherData.map((function(e,a){return Object(N.jsx)(y,{useFahrenheit:!t.useCelsius,formattedDateStr:0===a?"Tomorrow":v(w(e.applicable_date)),maxTempture:e.max_temp,minTempture:e.min_temp,abbr:e.weather_state_abbr})}))}),Object(N.jsx)("h1",{children:Object(N.jsx)("strong",{children:"Today's Hightlights"})}),Object(N.jsxs)("div",{className:"highlights",children:[Object(N.jsxs)("div",{className:"highlight wind-status",children:[Object(N.jsx)("p",{children:"Wind Status"}),Object(N.jsxs)("span",{className:"sufix",children:[Object(N.jsx)("span",{className:"prefix",children:Math.round(r.wind_direction)}),"mph"]}),Object(N.jsxs)("div",{className:"compass-wrapper",children:[Object(N.jsx)("img",{className:"compass",alt:"compass arrow that points to wind direction",style:{transform:n},src:_}),Object(N.jsx)("p",{children:r.wind_direction_compass})]})]}),Object(N.jsxs)("div",{className:"highlight humidity",children:[Object(N.jsx)("p",{children:"Humidity"}),Object(N.jsxs)("span",{className:"sufix",children:[Object(N.jsx)("span",{className:"prefix",children:r.humidity}),"%"]}),Object(N.jsxs)("div",{className:"gauge-wrapper",children:[Object(N.jsxs)("div",{className:"gauge-labels",children:[Object(N.jsx)("span",{children:"0"}),Object(N.jsx)("span",{children:"50"}),Object(N.jsx)("span",{children:"100"})]}),Object(N.jsx)("div",{className:"gauge",children:Object(N.jsx)("div",{className:"gauge-inside",style:{width:r.humidity+"%"},children:"\xa0"})}),Object(N.jsx)("div",{className:"gauge-percent-label",children:Object(N.jsx)("span",{children:"%"})})]})]}),Object(N.jsxs)("div",{className:"highlight visibility",children:[Object(N.jsx)("p",{children:"Visibility"}),Object(N.jsxs)("span",{className:"sufix",children:[Object(N.jsx)("span",{className:"prefix",children:Math.round(r.visibility)}),"miles"]})]}),Object(N.jsxs)("div",{className:"highlight Air pressure",children:[Object(N.jsx)("p",{children:"Wind Status"}),Object(N.jsxs)("span",{className:"sufix",children:[Object(N.jsx)("span",{className:"prefix",children:Math.round(r.air_pressure)}),"mb"]})]})]})]})})}a(16);function k(e){var t=e.state,a=e.setState,n=e.setWeatherData,s=e.onGps,c=t.weatherData[0],i=v(w(c.applicable_date)),d=f(c.weather_state_abbr),h=t.useCelsius?c.the_temp:g(c.the_temp);h=Math.round(h);var j=function(){var e=Object(l.a)(u.a.mark((function e(r){var n,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=t.input.trim().toLocaleLowerCase(),e.next=4,p(n);case 4:if(0!==(s=e.sent).lenght){e.next=8;break}return alert("Can't retrieve the weather data at the moment. Try again later."),e.abrupt("return");case 8:c=s.map((function(e){return{city:e.title,id:e.woeid}})),a(Object(o.a)(Object(o.a)({},t),{},{options:c,selectedId:c[0].id}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(N.jsxs)(r.Fragment,{children:[Object(N.jsxs)("div",{className:"today-weather-search-loc-wrapper",children:[Object(N.jsx)("button",{className:"today-weather-btn",onClick:function(e){a(Object(o.a)(Object(o.a)({},t),{},{searchEnabled:!0}))},children:"Search for places"}),Object(N.jsx)("button",{className:"today-weather-btn today-weather-gps-btn",onClick:s,children:Object(N.jsx)("span",{className:"material-icons",children:"gps_fixed"})})]}),Object(N.jsxs)("div",{className:"today-weather-info-wrapper",children:[Object(N.jsx)("img",{className:"today-weather-image",src:d,alt:"figure representing the weather"}),Object(N.jsxs)("p",{children:[Object(N.jsx)("span",{className:"today-weather-temperature-number",children:h}),Object(N.jsxs)("span",{className:"today-weather-temperature-sign",children:["\xba",t.useCelsius?"C":"F"]})]}),Object(N.jsx)("p",{className:"today-weather-climate",children:c.weather_state_name}),Object(N.jsxs)("p",{className:"today-weather-time-date",children:["Today - ",i]}),Object(N.jsxs)("div",{className:"today-weather-location-div",children:[Object(N.jsx)("span",{className:"material-icons",children:"place"}),Object(N.jsx)("p",{children:t.location})]})]})]}),m=Object(N.jsxs)(r.Fragment,{children:[Object(N.jsx)("div",{className:"tw-close-wrapper",children:Object(N.jsx)("button",{className:"tw-search-btn-x",onClick:function(e){n(t.selectedId),t.searchEnabled&&a(Object(o.a)(Object(o.a)({},t),{},{searchEnabled:!1}))},children:"X"})}),Object(N.jsx)("form",{children:Object(N.jsxs)("div",{className:"tw-search-div",children:[Object(N.jsxs)("div",{className:"tw-searchbar-btn",children:[Object(N.jsx)("input",{onChange:function(e){var r=Object(o.a)(Object(o.a)({},t),{},{input:e.target.value});a(r)},placeholder:"search location",type:"text"}),Object(N.jsx)("button",{onClick:j,children:"Search"})]}),Object(N.jsx)("select",{onChange:function(e){a(Object(o.a)(Object(o.a)({},t),{},{selectedId:e.target.value}))},children:t.options.map((function(e,t){return Object(N.jsx)("option",{value:e.id,children:e.city},t)}))})]})})]});return Object(N.jsx)("div",{className:"today-weather-wrapper",children:t.searchEnabled?m:b})}var D={input:"",options:[],searchEnabled:!1,selectedId:0,location:"",weatherData:[{weather_state_name:"",weather_state_abbr:"",wind_direction_compass:"",applicable_date:"",min_temp:0,max_temp:0,wind_speed:0,wind_direction:0,air_pressure:0,humidity:0,visibility:0}],gpsCoords:null,useCelsius:!0};function S(e){var t=Object(r.useState)(D),a=Object(d.a)(t,2),n=a[0],s=a[1],c=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t.latitude,t.longitude);case 2:if(0!==(a=e.sent).lenght){e.next=6;break}return alert("Your location could not be found"),e.abrupt("return");case 6:return r=a[0],c=r.title,i=r.woeid,s(Object(o.a)(Object(o.a)({},n),{},{weatherData:a,location:c,selectedId:i,gpsCoords:t})),e.next=12,h(i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("geolocation"in navigator){e.next=3;break}return alert("Your browser do not support geolocalization."),e.abrupt("return");case 3:null===n.gpsCoords?navigator.geolocation.watchPosition(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t.coords);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):c(n.gpsCoords);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x(t);case 4:if(a=e.sent,r=a.weatherData,c=a.location,0!==a.length&&0!==r.length){e.next=9;break}return e.abrupt("return");case 9:s(Object(o.a)(Object(o.a)({},n),{},{weatherData:r,location:c,searchEnabled:!1}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[]),Object(N.jsxs)("div",{className:"main-screen-wrapper",children:[Object(N.jsx)(k,{state:n,setState:s,setWeatherData:h,onGps:i}),Object(N.jsx)(C,{state:n,setState:s,weatherData:n.weatherData})]})}a(17);var M=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(S,{})})};c.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(M,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.6d56350b.chunk.js.map